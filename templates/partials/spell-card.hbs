<div class="spell-card item" data-item-id="{{_id}}">
  <img class="spell-icon" src="{{img}}" alt="{{name}}">
  <div class="roll-dice" title="Бросить кубик">
    <i class="fas fa-dice-d20"></i>
  </div>

  <div class="spell-tooltip">
    <p><strong>{{name}}</strong></p>

    {{#if system.displayFields.Circle}}<p><strong>Круг:</strong> {{system.Circle}}</p>{{/if}}
    {{#if system.displayFields.Level}}<p><strong>Уровень:</strong> {{system.Level}}</p>{{/if}}
    {{#if system.displayFields.Range}}<p><strong>Дистанция:</strong> {{system.Range}}</p>{{/if}}
    {{#if system.displayFields.Duration}}<p><strong>Длительность:</strong> {{system.Duration}}</p>{{/if}}

    {{#if system.displayFields.SpellType}}<p><strong>SpellType:</strong> {{system.SpellType}}</p>{{/if}}
    {{#if system.displayFields.TriggerType}}<p><strong>TriggerType:</strong> {{system.TriggerType}}</p>{{/if}}
    {{#if system.displayFields.EnemyInteractionType}}<p><strong>EnemyInteraction:</strong> {{system.EnemyInteractionType}}</p>{{/if}}

    {{#if system.displayFields.DamageType}}<p><strong>DamageType:</strong> {{system.DamageType}}</p>{{/if}}
    {{#if system.displayFields.DamageSubtype}}<p><strong>DamageSubtype:</strong> {{system.DamageSubtype}}</p>{{/if}}

    {{#if system.displayFields.Description}}<p><strong>Description:</strong> {{system.Description}}</p>{{/if}}
    {{#if system.displayFields.EffectConditions}}<p><strong>Условия эффектов:</strong> {{system.EffectConditions}}</p>{{/if}}
    {{#if system.displayFields.UsageConditions}}<p><strong>Условия применения:</strong> {{system.UsageConditions}}</p>{{/if}}

    {{#if system.displayFields.Effects}}<p><strong>Эффекты:</strong> {{{formatEffects system.Effects}}}</p>{{/if}}

    {{#if system.displayFields.Damage}}<p><strong>Урон:</strong> {{system.Damage}}</p>{{/if}}
    {{#if system.displayFields.Multiplier}}<p><strong>Множитель:</strong> {{system.Multiplier}}</p>{{/if}}

    {{#if system.displayFields.UsageCost}}<p><strong>Стоимость:</strong> {{system.UsageCost}}</p>{{/if}}
    {{#if system.displayFields.UsageThreshold}}<p><strong>Порог условия:</strong> {{system.UsageThreshold}}</p>{{/if}}

    {{#if system.displayFields.DeliveryType}}<p><strong>DeliveryType:</strong> {{system.DeliveryType}}</p>{{/if}}
    {{#if system.displayFields.SaveAbility}}<p><strong>SaveAbility:</strong> {{system.SaveAbility}}</p>{{/if}}
    {{#if system.displayFields.SaveDCFormula}}<p><strong>SaveDCFormula:</strong> {{system.SaveDCFormula}}</p>{{/if}}

    {{#if system.displayFields.AreaShape}}<p><strong>AoE Shape:</strong> {{system.AreaShape}}</p>{{/if}}
    {{#if system.displayFields.AreaSize}}<p><strong>AoE Size:</strong> {{system.AreaSize}}</p>{{/if}}
    {{#if system.displayFields.AreaWidth}}<p><strong>AoE Width:</strong> {{system.AreaWidth}}</p>{{/if}}
    {{#if system.displayFields.AreaAngle}}<p><strong>AoE Angle:</strong> {{system.AreaAngle}}</p>{{/if}}
    {{#if system.displayFields.AreaPersistent}}<p><strong>AoE Persistent:</strong> {{#if system.AreaPersistent}}да{{else}}нет{{/if}}</p>{{/if}}
    {{#if system.displayFields.AreaColor}}<p><strong>AoE Color:</strong> {{#if system.AreaColor}}{{system.AreaColor}}{{else}}(цвет игрока){{/if}}</p>{{/if}}

    {{#if system.displayFields.SummonActorUuid}}<p><strong>Summon Actor:</strong> {{system.SummonActorUuid}}</p>{{/if}}
    {{#if system.displayFields.SummonCount}}<p><strong>Summon Count:</strong> {{system.SummonCount}}</p>{{/if}}
    {{#if system.displayFields.SummonDisposition}}<p><strong>Summon Disposition:</strong> {{system.SummonDisposition}}</p>{{/if}}
    {{#if system.displayFields.SummonDeleteOnExpiry}}<p><strong>Delete on expiry:</strong> {{#if system.SummonDeleteOnExpiry}}да{{else}}нет{{/if}}</p>{{/if}}

    {{#each system.additionalFields}}
      {{#if this.show}}
        {{#unless this.hidden}}
          <p><strong>{{this.name}}:</strong> {{this.value}}</p>
        {{/unless}}
      {{/if}}
    {{/each}}
  </div>

  <button class="delete-spell" title="Удалить заклинание" type="button">
    <i class="fas fa-times"></i>
  </button>
</div>
