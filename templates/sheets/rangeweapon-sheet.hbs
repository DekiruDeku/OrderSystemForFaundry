<form class="{{cssClass}} weapon os-item-form" autocomplete="off">
  <header class="sheet-header os-item-header">
    <img class="os-item-img" src="{{item.img}}" data-edit="img" title="{{item.name}}" />

    <div class="os-item-headmeta">
      <h1 class="os-item-title">
        <input name="name" type="text" value="{{item.name}}" placeholder="{{ localize 'Name' }}" />
      </h1>

      <div class="os-item-headrow">
        <label class="os-check">
          <input type="checkbox" name="data.inHand" {{#if data.inHand}}checked{{/if}} class="in-hand-checkbox" />
          <span>В руке</span>
        </label>

        <button type="button" class="reload-rangeweapon os-small-btn">Перезарядить</button>
      </div>
    </div>
  </header>

  <div class="os-item-body os-item-grid">
    <!-- LEFT COLUMN -->
    <div class="os-col">
      <section class="os-panel os-panel--pad">
        <h3 class="os-panel-title">Описание</h3>
        <textarea name="data.description" class="os-textarea">{{data.description}}</textarea>
      </section>

      <section class="os-panel os-panel--pad">
        <h3 class="os-panel-title">Основные параметры</h3>
        <div class="os-form-grid">
          <div class="os-field">
            <label>Урон</label>
            <input name="data.Damage" type="text" value="{{data.Damage}}" data-type="Number" />
          </div>

          <div class="os-field">
            <label>Скорострельность</label>
            <input name="data.Rateoffire" type="text" value="{{data.Rateoffire}}" data-type="Number" />
          </div>

          <div class="os-field">
            <label>Магазин</label>
            <input name="data.Magazine" type="text" value="{{data.Magazine}}" data-type="Number" />
          </div>

          <div class="os-field">
            <label>Эффективная дальность</label>
            <input name="data.Effectivefiringrange" type="text" value="{{data.Effectivefiringrange}}" data-type="Number" />
          </div>

          <div class="os-field">
            <label>Макс. дальность</label>
            <input name="data.Maximumfiringrange" type="text" value="{{data.Maximumfiringrange}}" data-type="Number" />
          </div>

          <div class="os-field">
            <label>Слоты модификации</label>
            <input name="data.Modificationslots" type="text" value="{{data.Modificationslots}}" data-type="Number" />
          </div>

          <div class="os-field">
            <label>Прочность</label>
            <input name="data.Durability" type="text" value="{{data.Durability}}" data-type="Number" />
          </div>

          <div class="os-field">
            <label>Порог эффекта</label>
            <input name="data.EffectThreshold" type="text" value="{{data.EffectThreshold}}" data-type="Number" />
          </div>
        </div>
      </section>

      <section class="os-panel os-panel--pad">
        <h3 class="os-panel-title">Слоты снаряжения</h3>
        <select id="weapon-type" name="data.weaponType" class="weapon-type" data-type="String">
          <option value="Основное оружие" {{isSelected data.weaponType "Основное оружие"}}>Основное оружие</option>
          <option value="Вторичное оружие" {{isSelected data.weaponType "Вторичное оружие"}}>Вторичное оружие</option>
          <option value="Холодное оружие" {{isSelected data.weaponType "Холодное оружие"}}>Холодное оружие</option>
        </select>
      </section>
    </div>

    <!-- RIGHT COLUMN -->
    <div class="os-col">
      <section class="os-panel os-panel--pad">
        <div class="os-panel-title-row advantage-field">
          <h3 class="os-panel-title">Параметры</h3>
          <button type="button" class="modify-advantage-button os-small-btn">+ Параметр</button>
        </div>

        <div class="additional-advantages os-pill-list">
          {{#each data.additionalAdvantages as |curAd index| }}
            <div class="advantage-char os-pill" data-index="{{index}}">
              <span class="os-pill-text">{{localize curAd.Characteristic}} {{curAd.Value}}</span>
              <a type="button" class="advantage-remove-characteristic os-pill-action">❌</a>
            </div>
          {{/each}}
          {{#unless data.additionalAdvantages.length}}
            <div class="os-empty">Нет параметров</div>
          {{/unless}}
        </div>
      </section>

      <section class="os-panel os-panel--pad">
        <div class="os-panel-title-row requires-field">
          <h3 class="os-panel-title">Требования</h3>
          <button type="button" class="modify-require-button os-small-btn">+ Требование</button>
        </div>

        <div class="requires-array os-pill-list">
          {{#each data.RequiresArray as |curRq index| }}
            <div class="requires-char os-pill" data-index="{{index}}">
              <span class="os-pill-text">{{formatRequirement curRq}}</span>
              <a type="button" class="requires-remove-characteristic os-pill-action">❌</a>
            </div>
          {{/each}}
          {{#unless data.RequiresArray.length}}
            <div class="os-empty">Нет требований</div>
          {{/unless}}
        </div>
      </section>

      <section class="os-panel os-panel--pad">
        <div class="os-panel-title-row">
          <h3 class="os-panel-title">Характеристики атаки</h3>
          <button type="button" class="open-attack-dialog os-small-btn">Настроить</button>
        </div>

        <div class="attack-characteristics-array os-pill-list">
          {{#each data.AttackCharacteristics as |char index| }}
            <div class="attack-char os-pill" data-index="{{index}}">
              <span class="os-pill-text">{{localize char}}</span>
              <a type="button" class="remove-attack-characteristic os-pill-action">❌</a>
            </div>
          {{/each}}
          {{#unless data.AttackCharacteristics.length}}
            <div class="os-empty">Не выбрано</div>
          {{/unless}}
        </div>
      </section>

      <section class="os-panel os-panel--pad">
        <div class="os-panel-title-row">
          <h3 class="os-panel-title">Эффекты при попадании</h3>
          <button type="button" class="add-accurate-effect os-small-btn">+ Добавить</button>
        </div>

        <div class="os-list">
          {{#each data.OnHitEffects as |effect index| }}
            <div class="weapon-effect-row os-row" data-index="{{index}}">
              <input name="data.OnHitEffects.{{index}}" type="text" value="{{effect}}" data-type="String" />
              <button type="button" class="remove-accurate-effect os-small-btn" data-index="{{index}}">Удалить</button>
            </div>
          {{/each}}
          {{#unless data.OnHitEffects.length}}
            <div class="os-empty">Нет эффектов</div>
          {{/unless}}
        </div>
      </section>
    </div>
  </div>
</form>
